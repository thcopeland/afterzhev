.equ DISPLAY_WIDTH = 120
.equ DISPLAY_HEIGHT = 66 ; may be reduced to 65
.equ FOOTER_HEIGHT = 6

.equ DISPLAY_VERTICAL_STRETCH = 5
.equ DISPLAY_CLK_TOP = (VSYNC_BACK_PORCH+1)
.equ DISPLAY_CLK_BOTTOM = (HSYNC_PERIOD*DISPLAY_VERTICAL_STRETCH*DISPLAY_HEIGHT/VSYNC_PRESCALER + DISPLAY_CLK_TOP)

.equ SECTOR_COUNT = 64
.equ SECTOR_WIDTH = 32
.equ SECTOR_HEIGHT = 16
.equ SECTOR_NPC_COUNT = 8
.equ SECTOR_PREPLACED_ITEM_COUNT = 4
.equ SECTOR_PREPLACED_ITEM_MEMSIZE = 4
.equ SECTOR_MEMSIZE = SECTOR_WIDTH*SECTOR_HEIGHT + 4 + SECTOR_NPC_COUNT + SECTOR_PREPLACED_ITEM_COUNT*SECTOR_PREPLACED_ITEM_MEMSIZE
.equ SECTOR_AJD_OFFSET = SECTOR_WIDTH*SECTOR_HEIGHT
.equ SECTOR_NPC_OFFSET = SECTOR_AJD_OFFSET + 4
.equ SECTOR_ITEMS_OFFSET = SECTOR_NPC_OFFSET + SECTOR_NPC_COUNT

.equ SECTOR_ITEM_IDX_OFFSET = 0
.equ SECTOR_ITEM_PREPLACED_IDX_OFFSET = 1
.equ SECTOR_ITEM_X_OFFSET = 2
.equ SECTOR_ITEM_Y_OFFSET = 3
.equ TOTAL_PREPLACED_ITEM_COUNT = 16
.equ SECTOR_DYNAMIC_ITEM_MEMSIZE = SECTOR_PREPLACED_ITEM_MEMSIZE
.equ SECTOR_DYNAMIC_ITEM_COUNT = 8

.equ TOTAL_NPC_COUNT = 128
.equ SECTOR_DYNAMIC_NPC_COUNT = SECTOR_NPC_COUNT
.equ NPC_IDX_OFFSET = 0
.equ NPC_ANIM_OFFSET = 1 ; action:3, frame:3, direction:2
.equ NPC_X_POSITION_OFFSET = 2
.equ NPC_Y_POSITION_OFFSET = 5
.equ NPC_X_VELOCITY_OFFSET = 8
.equ NPC_Y_VELOCITY_OFFSET = 9
.equ NPC_HEALTH_OFFSET = 10
.equ NPC_STATUS_OFFSET = 11
.equ NPC_MEMSIZE = 12

.equ NPC_POSITION_SUBPIXEL_OFFSET = 0
.equ NPC_POSITION_LOW_OFFSET = 1
.equ NPC_POSITION_HIGH_OFFSET = 2

.equ NPC_TABLE_ENTRY_MEMSIZE = 16
.equ NPC_TABLE_TYPE_OFFSET = 0
.equ NPC_TABLE_CHARACTER_OFFSET = 1
.equ NPC_TABLE_WEAPON_OFFSET = 2
.equ NPC_TABLE_ARMOR_OFFSET = 3
.equ NPC_TABLE_DIRECTION_OFFSET = 4
.equ NPC_TABLE_XPOS_OFFSET = 5
.equ NPC_TABLE_YPOS_OFFSET = 6
.equ NPC_TABLE_PROPS_OFFSET = 7
.equ NPC_TABLE_ENEMY_DROPS_OFFSET = 11
.equ NPC_TABLE_SHOP_ITEMS_OFFSET = 8
.equ NPC_TABLE_TALKER_CONVS_OFFSET = 7

.equ TILE_WIDTH = 12
.equ TILE_HEIGHT = 12
.equ TILE_MEMSIZE = TILE_WIDTH*TILE_HEIGHT + 2
.equ TILE_DATA_OFFSET = 2

.equ DISPLAY_HORIZONTAL_TILES = DISPLAY_WIDTH/TILE_WIDTH
.equ DISPLAY_VERTICAL_TILES = (DISPLAY_HEIGHT-FOOTER_HEIGHT)/TILE_HEIGHT

.equ CLASS_MEMSIZE = 18
.equ CLASS_ACC_OFFSET = 0
.equ CLASS_DIMS_OFFSET = 1
.equ CLASS_SPRITE_OFFSET = 3
.equ CLASS_STATS_OFFSET = 4
.equ CLASS_NAME_OFFSET = 8

.equ CHARACTER_MEMSIZE = 6
.equ CHARACTER_SPRITE_OFFSET = 0
.equ CHARACTER_WEAPON_OFFSET = 1
.equ CHARACTER_ARMOR_OFFSET = 2
.equ CHARACTER_DIRECTION_OFFSET = 3
.equ CHARACTER_ACTION_OFFSET = 4
.equ CHARACTER_FRAME_OFFSET = 5

.equ CHARACTER_SPRITE_WIDTH = TILE_WIDTH    ; TODO: use these in collision detection
.equ CHARACTER_SPRITE_HEIGHT = TILE_HEIGHT
.equ CHARACTER_SPRITE_MEMSIZE = CHARACTER_SPRITE_WIDTH*CHARACTER_SPRITE_HEIGHT
.equ CHARACTER_ANIM_WALK_FRAMES = 4
.equ CHARACTER_ANIM_IDLE_FRAMES = 1
.equ CHARACTER_ANIM_WALK_FRAMES_OFFSET = 0
.equ CHARACTER_ANIM_IDLE_FRAMES_OFFSET = 4*CHARACTER_ANIM_WALK_FRAMES
.equ CHARACTER_ANIM_TOTAL_FRAMES = 4*(CHARACTER_ANIM_WALK_FRAMES+CHARACTER_ANIM_IDLE_FRAMES)
.equ CHARACTER_ANIM_MEMSIZE = CHARACTER_SPRITE_MEMSIZE*CHARACTER_ANIM_TOTAL_FRAMES

.equ ITEM_ANIM_WALK_FRAMES = CHARACTER_ANIM_WALK_FRAMES
.equ ITEM_ANIM_WALK_TOTAL_FRAMES = 4*ITEM_ANIM_WALK_FRAMES
.equ ITEM_ANIM_WALK_OFFSET_FRAMES = 0
.equ ITEM_ANIM_IDLE_FRAMES = CHARACTER_ANIM_IDLE_FRAMES
.equ ITEM_ANIM_IDLE_TOTAL_FRAMES = 4*ITEM_ANIM_IDLE_FRAMES
.equ ITEM_ANIM_IDLE_OFFSET_FRAMES = ITEM_ANIM_WALK_TOTAL_FRAMES
.equ ITEM_ANIM_ATTACK_FRAMES = 2
.equ ITEM_ANIM_ATTACK_TOTAL_FRAMES = 2*ITEM_ANIM_ATTACK_FRAMES
.equ ITEM_ANIM_ATTACK_OFFSET_FRAMES = ITEM_ANIM_IDLE_OFFSET_FRAMES + ITEM_ANIM_IDLE_TOTAL_FRAMES
.equ ITEM_LUT_ENTRY_FRAME_MEMSIZE = 2
.equ ITEM_LUT_ENTRY_MEMSIZE = ITEM_LUT_ENTRY_FRAME_MEMSIZE*(ITEM_ANIM_WALK_TOTAL_FRAMES + ITEM_ANIM_IDLE_TOTAL_FRAMES + 3*ITEM_ANIM_ATTACK_TOTAL_FRAMES)

.equ STATIC_ITEM_WIDTH = 6
.equ STATIC_ITEM_HEIGHT = 6
.equ STATIC_ITEM_MEMSIZE = STATIC_ITEM_WIDTH*STATIC_ITEM_HEIGHT

.equ ITEM_MEMSIZE = 10
.equ ITEM_NAME_PTR_OFFSET = 0
.equ ITEM_DESC_PTR_OFFSET = 2
.equ ITEM_FLAGS_OFFSET = 4
.equ ITEM_COST_OFFSET = 5
.equ ITEM_STATS_OFFSET = 6

.equ FONT_KERNING = 1
.equ FONT_CHARACTER_WIDTH = 3
.equ FONT_CHARACTER_HEIGHT = 6
.equ FONT_DISPLAY_WIDTH = FONT_CHARACTER_WIDTH+FONT_KERNING
.equ FONT_DISPLAY_HEIGHT = FONT_CHARACTER_HEIGHT

.equ STATS_STRENGTH_OFFSET = 0
.equ STATS_VITALITY_OFFSET = 1
.equ STATS_DEXTERITY_OFFSET = 2
.equ STATS_CHARISMA_OFFSET = 3
.equ STATS_COUNT = 4
.equ STATS_RANGE = 99

.equ PLAYER_EFFECT_MEMSIZE = 2
.equ PLAYER_EFFECT_IDX_OFFSET = 0
.equ PLAYER_EFFECT_TIME_OFFSET = 1
